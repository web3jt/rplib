try{Matter.use("matter-wrap")}catch(M){}const e=Matter.Common,t=Matter.Engine,n=Matter.Render,r=Matter.Runner,o=Matter.Bodies,c=Matter.Composite,i=Matter.Mouse,a=Matter.MouseConstraint;export const engine=t.create(),world=engine.world;export function mRender(e=4,t=9){const u=document.createElement("div");if(document.body.appendChild(u),x)switch(x){case 1:u.style.filter="invert()";break;case 2:u.style.filter="sepia()"}const l=n.create({element:u,engine:engine,options:{background:`hsl(${H.a} 80% ${t}%)`,width:w(S),height:w(S),wireframes:!1}});n.run(l);const d=r.create();r.run(d,engine);const p=[];e>0&&p.push(o.rectangle(300,600,1200,25,W)),e>3&&(p.push(o.rectangle(300,0,1200,25,W)),p.push(o.rectangle(0,300,25,1200,W)),p.push(o.rectangle(600,300,25,1200,W))),c.add(world,p);const f=i.create(l.canvas),m=a.create(engine,{mouse:f,constraint:{angularStiffness:0,stiffness:.2,render:{visible:!1}}});return c.add(world,m),l.mouse=f,l}const u=window.location.search,l=new URLSearchParams(u),d=m("s")%360,p=g(d,120),f=g(d,240),x=m("f");export const S=600;export const H={a:d,b:p,c:f};export const P=m("p");export const W={isStatic:!0,render:{fillStyle:`hsl(${f} 25% 10%)`}};function m(e="s"){try{return l.get(e)?parseInt(l.get(e)):0}catch(e){return 0}}function g(e,t=0){return(e+t)%360}function w(e){return Math.round(Math.min(window.innerWidth,window.innerHeight)/S*e)}export function h(e){let t=e;for(let n=0;n<e;n++)t=(1664525*t+1013904223)%Number.MAX_SAFE_INTEGER;return t}export function s(e,t=15,n=80){const r=h(e)%100;return t&&r<t?t:n&&r>n?n:r}export function colr0(e){return 0===P?`hsl(${p} 50% ${s(e)}%)`:`hsl(${h(d+e)%360} 50% 50%)`}export function colr1(e){return 1===P?`hsl(${p} 50% ${s(e)}%)`:`hsl(${h(d+e)%360} 50% 50%)`}export function wo(t){return e.extend(W,t)}export function ro1(t,n){return e.extend({render:{fillStyle:colr0(t)}},n)}export function ro2(t,n){return e.extend({render:{fillStyle:colr1(t)}},n)}export function mFit(e){n.lookAt(e,{min:{x:0,y:0},max:{x:S,y:S}})}
