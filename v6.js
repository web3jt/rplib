try{Matter.use("matter-wrap")}catch(M){}const e=Matter.Common,t=Matter.Engine,n=Matter.Render,r=Matter.Runner,o=Matter.Bodies,c=Matter.Composite,i=Matter.Mouse,u=Matter.MouseConstraint;export const engine=t.create(),world=engine.world;export function mRender(e=4,t=9){const l=document.createElement("div");if(document.body.appendChild(l),m)switch(m){case 1:l.style.filter="invert()";break;case 2:l.style.filter="sepia()"}const d=n.create({element:l,engine:engine,options:{background:`hsl(${H.a} 80% ${t}%)`,width:a(S),height:a(S),wireframes:!1}});n.run(d);const p=r.create();r.run(p,engine);const f=[];e>0&&f.push(o.rectangle(300,600,1200,25,W)),e>3&&(f.push(o.rectangle(300,0,1200,25,W)),f.push(o.rectangle(0,300,25,1200,W)),f.push(o.rectangle(600,300,25,1200,W))),c.add(world,f);const x=i.create(d.canvas),g=u.create(engine,{mouse:x,constraint:{angularStiffness:0,stiffness:.2,render:{visible:!1}}});return c.add(world,g),d.mouse=x,d}const l=window.location.search,d=new URLSearchParams(l),p=g("s")%360,f=w(p,120),x=w(p,240),m=g("f");export const S=600;export const H={a:p,b:f,c:x};export const P=g("p");export const W={isStatic:!0,render:{fillStyle:`hsl(${x} 25% 10%)`}};function g(e="s"){try{return d.get(e)?parseInt(d.get(e)):0}catch(e){return 0}}function w(e,t=0){return(e+t)%360}export function a(e){return Math.round(Math.min(window.innerWidth,window.innerHeight)/S*e)}export function h(e){let t=e;for(let n=0;n<e;n++)t=(1664525*t+1013904223)%Number.MAX_SAFE_INTEGER;return t}export function s(e,t=15,n=80){const r=h(e)%100;return t&&r<t?t:n&&r>n?n:r}export function colr0(e){return 0===P?`hsl(${f} 50% ${s(e)}%)`:`hsl(${h(p+e)%360} 50% 50%)`}export function colr1(e){return 1===P?`hsl(${f} 50% ${s(e)}%)`:`hsl(${h(p+e)%360} 50% 50%)`}export function wo(t){return e.extend(W,t)}export function ro1(t,n){return e.extend({render:{fillStyle:colr0(t)}},n)}export function ro2(t,n){return e.extend({render:{fillStyle:colr1(t)}},n)}export function mFit(e){n.lookAt(e,{min:{x:0,y:0},max:{x:S,y:S}})}
